{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\WITLAB\\\\nodejs\\\\react\\\\ireland\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\WITLAB\\\\nodejs\\\\react\\\\ireland\\\\frontend\\\\src\\\\Sensing.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './sensing.css';\n\nfunction Sensing() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      sensing = _useState2[0],\n      setSensing = _useState2[1];\n}\n\nfunction getSensing() {\n  setSensing(0); // 요청이 시작 할 때에는 sensing을 초기화\n\n  var sensing = [];\n  var indices = [];\n  var indices2 = [];\n  axios.get('http://localhost:7579/Mobius/ireland/sensor/latest', {\n    headers: {\n      'Accept': 'application/json',\n      'X-M2M-RI': '12345',\n      'X-M2M-Origin': 'Sireland'\n    }\n  }).then(function (res) {\n    console.log(res.data);\n    var str = JSON.stringify(res.data);\n    var obj = JSON.parse(str);\n    var con = obj['m2m:cin'].con;\n    console.log(con);\n    var idx = con.indexOf('/');\n\n    while (idx !== -1) {\n      indices.push(idx);\n      idx = con.indexOf('/', idx + 1);\n    }\n\n    idx = con.indexOf(',');\n\n    while (idx !== -1) {\n      indices2.push(idx);\n      idx = con.indexOf(',', idx + 1);\n    }\n\n    for (var i = 0; i < indices.length; i++) {\n      sensing.push(con.substring(indices[i] + 1, indices2[i]));\n    }\n\n    console.log(sensing);\n    setSensing(sensing);\n  });\n  useEffect(function () {\n    getSensing();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"sensing_temp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"temp_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 33\n    }\n  }, \"Temperaure\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"temp_value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    class: \"temp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 33\n    }\n  }, \"$\", sensing[1], \"\\u2103\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"sensing_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"sensing_humi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"humi_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 41\n    }\n  }, \"Humidity\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"humi_value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    class: \"humi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 41\n    }\n  }, \"0%\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"sensing_tem2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"sensing_illum\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 34\n    }\n  }, \"Illuminance\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    class: \"illum\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 34\n    }\n  }, \"0[lux]\"))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"sensing_co2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 34\n    }\n  }, \"Co2\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    class: \"co2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 34\n    }\n  }, \"0ppm\"))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"sensing_gas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 34\n    }\n  }, \"Gas\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    class: \"gas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 34\n    }\n  }, \"0\")))));\n}\n\nexport default Sensing;","map":{"version":3,"names":["React","useState","useEffect","axios","Sensing","sensing","setSensing","getSensing","indices","indices2","get","headers","then","res","console","log","data","str","JSON","stringify","obj","parse","con","idx","indexOf","push","i","length","substring"],"sources":["C:/Users/WITLAB/nodejs/react/ireland/frontend/src/Sensing.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './sensing.css';\r\n\r\nfunction Sensing(){\r\n    const [sensing, setSensing] = useState(null);\r\n}\r\n\r\nfunction getSensing(){\r\n\r\n    setSensing(0);// 요청이 시작 할 때에는 sensing을 초기화\r\n\r\n    var sensing = [];\r\n    var indices = [];\r\n    var indices2 = [];\r\n\r\n    axios.get('http://localhost:7579/Mobius/ireland/sensor/latest',{\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'X-M2M-RI': '12345',\r\n          'X-M2M-Origin': 'Sireland'\r\n        }\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data)\r\n        var str = JSON.stringify(res.data);\r\n        var obj = JSON.parse(str);\r\n        var con = obj['m2m:cin'].con;\r\n        console.log(con);\r\n\r\n        var idx = con.indexOf('/');\r\n        while (idx !== -1) {\r\n          indices.push(idx);\r\n          idx = con.indexOf('/', idx + 1);\r\n        }\r\n        idx = con.indexOf(',');\r\n        while (idx !== -1) {\r\n          indices2.push(idx);\r\n          idx = con.indexOf(',', idx + 1);\r\n        }\r\n  \r\n        for(var i=0;i<indices.length;i++){\r\n          sensing.push(con.substring(indices[i]+1,indices2[i]));\r\n        }\r\n  \r\n        console.log(sensing);\r\n\r\n        setSensing(sensing);\r\n      });\r\n\r\n\r\n    useEffect(() => {\r\n        getSensing();\r\n    },[]);\r\n\r\nreturn (\r\n    <div class = \"sensing_temp\">\r\n        <div class=\"temp_title\"><p>Temperaure</p></div>\r\n        <div class=\"temp_value\"><p class=\"temp\">${sensing[1]}℃</p></div>\r\n\r\n        <div class=\"sensing_blank\">\r\n              <div class=\"sensing_humi\">\r\n                <div class=\"humi_title\"><p>Humidity</p></div>\r\n                <div class=\"humi_value\"><p class=\"humi\">0%</p></div>\r\n              </div>\r\n  \r\n        </div>\r\n\r\n        <div class=\"sensing_tem2\">\r\n            <div class=\"sensing_illum\">\r\n              <div class=\"title\"><p>Illuminance</p></div>\r\n              <div class=\"value\"><p class=\"illum\">0[lux]</p></div>\r\n            </div>\r\n            <div class=\"sensing_co2\">\r\n              <div class=\"title\"><p>Co2</p></div>\r\n              <div class=\"value\"><p class=\"co2\">0ppm</p></div>\r\n            </div>\r\n            <div class=\"sensing_gas\">\r\n              <div class=\"title\"><p>Gas</p></div>\r\n              <div class=\"value\"><p class=\"gas\">0</p></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n)\r\n}\r\n\r\n\r\nexport default Sensing;"],"mappings":"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"},"metadata":{},"sourceType":"module"}